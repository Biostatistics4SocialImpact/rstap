<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Prior distributions and options — priors • rstap</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Prior distributions and options — priors" />

<meta property="og:description" content="The functions described on this page are used to specify the prior-related #' arguments of the various modeling functions in the rstap package (to
view the priors used for an existing model see prior_summary). 
The default priors used in the various rstap modeling functions are
intended to be weakly informative in that they provide moderate
regularlization and help stabilize computation. For many applications the
defaults will perform well, but prudent use of more informative priors is
encouraged. Many of these are informed by the priors in rstanarm." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rstap</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Introduction.html">STAP Introduction</a>
    </li>
    <li>
      <a href="../articles/Spatial_Correlation_I.html">STAP-Spatial_Correlation</a>
    </li>
    <li>
      <a href="../articles/clustered_poisson.html">Spatial Correlation II</a>
    </li>
    <li>
      <a href="../articles/longitudinal-I.html">STAP in a Longitudinal Data Setting</a>
    </li>
    <li>
      <a href="../articles/misspecified-weightfunction.html">Mis-Specified Weight Function</a>
    </li>
    <li>
      <a href="../articles/scale-priors.html">Scale Priors</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prior distributions and options</h1>
    
    <div class="hidden name"><code>priors.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>The functions described on this page are used to specify the prior-related #' arguments of the various modeling functions in the <span class="pkg">rstap</span> package (to
view the priors used for an existing model see <code>prior_summary</code>). 
The default priors used in the various <span class="pkg">rstap</span> modeling functions are
intended to be <em>weakly informative</em> in that they provide moderate
regularlization and help stabilize computation. For many applications the
defaults will perform well, but prudent use of more informative priors is
encouraged. Many of these are informed by the priors in <span class="pkg">rstanarm</span>.</p>
    
    </div>

    <pre class="usage"><span class='fu'>normal</span>(<span class='kw'>location</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>autoscale</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>student_t</span>(<span class='kw'>df</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>location</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>autoscale</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>cauchy</span>(<span class='kw'>location</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>autoscale</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>hs</span>(<span class='kw'>df</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>global_df</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>global_scale</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='fu'>hs_plus</span>(<span class='kw'>df1</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>df2</span> <span class='kw'>=</span> <span class='fl'>3</span>, <span class='kw'>global_df</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>global_scale</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='fu'>laplace</span>(<span class='kw'>location</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>autoscale</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>lasso</span>(<span class='kw'>df</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>location</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>autoscale</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>product_normal</span>(<span class='kw'>df</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>location</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='fu'>exponential</span>(<span class='kw'>rate</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>autoscale</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='fu'>log_normal</span>(<span class='kw'>location</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>scale</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='fu'>beta_prior</span>(<span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>1</span>, <span class='kw'>beta</span> <span class='kw'>=</span> <span class='fl'>1</span>)

<span class='fu'>R2</span>(<span class='kw'>location</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>what</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"mode"</span>, <span class='st'>"mean"</span>, <span class='st'>"median"</span>, <span class='st'>"log"</span>))</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>location</th>
      <td><p>Prior location. In most cases, this is the prior mean, but
for <code>cauchy</code> (which is equivalent to <code>student_t</code> with
<code>df=1</code>), the mean does not exist and <code>location</code> is the prior
median. The default value is \(0\), except for <code>R2</code> which has no
default value for <code>location</code>.</p></td>
    </tr>
    <tr>
      <th>scale</th>
      <td><p>Prior scale. The default depends on the family (see
<strong>Details</strong>).</p></td>
    </tr>
    <tr>
      <th>autoscale</th>
      <td><p>A logical scalar, defaulting to <code>TRUE</code>. If <code>TRUE</code> 
then the scales of the priors on the intercept and regression coefficients 
may be additionally modified internally by <span class="pkg">rstanarm</span> in the following 
cases. First, for Gaussian models only, the prior scales for the intercept, 
coefficients, and the auxiliary parameter <code>sigma</code> (error standard 
deviation) are multiplied by <code>sd(y)</code>. Additionally --- not only for 
Gaussian models --- if the <code>QR</code> argument to the model fitting function
(e.g. <code>stan_glm</code>) is <code>FALSE</code> then: for a predictor with only one 
value nothing is changed; for a predictor <code>x</code> with exactly two unique 
values, we take the user-specified (or default) scale(s) for the selected 
priors and divide by the range of <code>x</code>; for a predictor <code>x</code> with 
more than two unique values, we divide the prior scale(s) by <code>sd(x)</code>.</p></td>
    </tr>
    <tr>
      <th>df, df1, df2</th>
      <td><p>Prior degrees of freedom. The default is \(1\) for 
<code>student_t</code>, in which case it is equivalent to <code>cauchy</code>. For the 
hierarchical shrinkage priors (<code>hs</code> and <code>hs_plus</code>) the degrees of
freedom parameter(s) default to \(3\). For the <code>product_normal</code> 
prior, the degrees of freedom parameter must be an integer (vector) that is
at least \(2\) (the default).</p></td>
    </tr>
    <tr>
      <th>global_df, global_scale</th>
      <td><p>Optional arguments for the hierarchical
shrinkage priors. See the <em>Hierarchical shrinkage family</em> section
below.</p></td>
    </tr>
    <tr>
      <th>rate</th>
      <td><p>Prior rate for the exponential distribution. Defaults to 
<code>1</code>. For the exponential distribution the rate parameter is the 
<em>reciprocal</em> of the mean.</p></td>
    </tr>
    <tr>
      <th>what</th>
      <td><p>A character string among <code>'mode'</code> (the default),
<code>'mean'</code>, <code>'median'</code>, or <code>'log'</code> indicating how the
<code>location</code> parameter is interpreted in the <code>LKJ</code> case. If
<code>'log'</code>, then <code>location</code> is interpreted as the expected
logarithm of the \(R^2\) under a Beta distribution. Otherwise,
<code>location</code> is interpreted as the <code>what</code> of the \(R^2\)
under a Beta distribution. If the number of predictors is less than
or equal to two, the mode of this Beta distribution does not exist
and an error will prompt the user to specify another choice for
<code>what</code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A named list to be used internally by the <span class="pkg">rstap</span> model
  fitting functions.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The details depend on the family of the prior being used:</p><h3>Student t family</h3>
    Family members:
  <ul>
<li><p><code>normal(location, scale)</code></p></li>
<li><p><code>student_t(df, location, scale)</code></p></li>
<li><p><code>cauchy(location, scale)</code></p></li>
</ul>
  Each of these functions also takes an argument <code>autoscale</code>.
    For the prior distribution for the intercept, <code>location</code>, 
  <code>scale</code>, and <code>df</code> should be scalars. As the 
  degrees of freedom approaches infinity, the Student t distribution 
  approaches the normal distribution and if the degrees of freedom are one,
  then the Student t distribution is the Cauchy distribution.
    If <code>scale</code> is not specified it will default to \(10\) for the
  intercept and \(2.5\) for the other coefficients, unless the probit link
  function is used, in which case these defaults are scaled by a factor of 
  <code>dnorm(0)/dlogis(0)</code>, which is roughly \(1.6\).
    If the <code>autoscale</code> argument is <code>TRUE</code> (the default), then the 
  scales will be further adjusted as described above in the documentation of 
  the <code>autoscale</code> argument in the <strong>Arguments</strong> section.
    <h3>Hierarchical shrinkage family</h3>
    Family members:
  <ul>
<li><p><code>hs(df, global_df, global_scale)</code></p></li>
<li><p><code>hs_plus(df1, df2, global_df, global_scale)</code></p></li>
</ul>
    The hierarchical shrinkage priors are normal with a mean of zero and a 
  standard deviation that is also a random variable. The traditional 
  hierarchical shrinkage prior utilizes a standard deviation that is 
  distributed half Cauchy with a median of zero and a scale parameter that is
  also half Cauchy. This is called the "horseshoe prior". The hierarchical 
  shrinkage (<code>hs</code>) prior in the <span class="pkg">rstanarm</span> package instead utilizes 
  a half Student t distribution for the standard deviation (with 3 degrees of
  freedom by default), as described by Piironen and Vehtari (2015). It is
  possible to change the <code>df</code> argument, the prior degrees of freedom, to
  obtain less or more shrinkage. Traditionally the standard deviation
  parameter is then scaled by the square root of a <em>global</em> half Cauchy 
  parameter, although <span class="pkg">rstanarm</span> allows setting <code>global_df</code> and 
  <code>global_scale</code> arguments, in which case this global parameter is 
  distributed half Student t with degrees of freedom <code>global_df</code> and 
  scale <code>global_scale</code>.
    The hierarhical shrinkpage plus (<code>hs_plus</code>) prior is a normal with a 
  mean of zero and a standard deviation that is distributed as the product of
  two independent half Student t parameters (both with \(3\) degrees of
  freedom (<code>df1</code>, <code>df2</code>) by default) that are each scaled in a
  similar way to the <code>hs</code> prior.
    The hierarchical shrinkage priors have very tall modes and very fat tails.
  Consequently, they tend to produce posterior distributions that are very
  concentrated near zero, unless the predictor has a strong influence on the
  outcome, in which case the prior has little influence. Hierarchical 
  shrinkage priors often require you to increase the 
  adapt_delta tuning parameter in order to diminish the number 
  of divergent transitions. For more details on tuning parameters and 
  divergent transitions see the Troubleshooting section of the <em>How to
  Use the rstanarm Package</em> vignette.
    <h3>Laplace family</h3>
    Family members:
  <ul>
<li><p><code>laplace(location, scale)</code></p></li>
<li><p><code>lasso(df, location, scale)</code></p></li>
</ul>
  Each of these functions also takes an argument <code>autoscale</code>.
    The Laplace distribution is also known as the double-exponential 
  distribution. It is a symmetric distribution with a sharp peak at its mean 
  / median / mode and fairly long tails. This distribution can be motivated 
  as a scale mixture of normal distributions and the remarks above about the 
  normal distribution apply here as well.
    The lasso approach to supervised learning can be expressed as finding the
  posterior mode when the likelihood is Gaussian and the priors on the 
  coefficients have independent Laplace distributions. It is commonplace in
  supervised learning to choose the tuning parameter by cross-validation,
  whereas a more Bayesian approach would be to place a prior on &#8220;it&#8221;,
  or rather its reciprocal in our case (i.e. <em>smaller</em> values correspond
  to more shrinkage toward the prior location vector). We use a chi-square
  prior with degrees of freedom equal to that specified in the call to
  <code>lasso</code> or, by default, 1. The expectation of a chi-square random
  variable is equal to this degrees of freedom and the mode is equal to the
  degrees of freedom minus 2, if this difference is positive.
    It is also common in supervised learning to standardize the predictors 
  before training the model. We do not recommend doing so. Instead, it is
  better to specify <code>autoscale = TRUE</code> (the default value), which 
  will adjust the scales of the priors according to the dispersion in the
  variables. See the documentation of the <code>autoscale</code> argument above 
  and also the <code>prior_summary</code> page for more information.
    <h3>Product-normal family</h3>
    Family members:
  <ul>
<li><p><code>product_normal(df, location, scale)</code></p></li>
</ul>
  The product-normal distribution is the product of at least two independent 
  normal variates each with mean zero, shifted by the <code>location</code>
  parameter. It can be shown that the density of a product-normal variate is
  symmetric and infinite at <code>location</code>, so this prior resembles a
  &#8220;spike-and-slab&#8221; prior for sufficiently large values of the
  <code>scale</code> parameter. For better or for worse, this prior may be
  appropriate when it is strongly believed (by someone) that a regression
  coefficient &#8220;is&#8221; equal to the <code>location</code>, parameter even though
  no true Bayesian would specify such a prior.
    Each element of <code>df</code> must be an integer of at least \(2\) because
  these &#8220;degrees of freedom&#8221; are interpreted as the number of normal
  variates being multiplied and then shifted by <code>location</code> to yield the
  regression coefficient. Higher degrees of freedom produce a sharper
  spike at <code>location</code>.
    Each element of <code>scale</code> must be a non-negative real number that is
  interpreted as the standard deviation of the normal variates being
  multiplied and then shifted by <code>location</code> to yield the regression
  coefficient. In other words, the elements of <code>scale</code> may differ, but
  the k-th standard deviation is presumed to hold for all the normal deviates
  that are multiplied together and shifted by the k-th element of
  <code>location</code> to yield the k-th regression coefficient. The elements of 
  <code>scale</code> are not the prior standard deviations of the regression
  coefficients. The prior variance of the regression coefficients is equal to
  the scale raised to the power of \(2\) times the corresponding element of
  <code>df</code>. Thus, larger values of <code>scale</code> put more prior volume on
  values of the regression coefficient that are far from zero.
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Gelman, A., Jakulin, A., Pittau, M. G., and Su, Y. (2008). A weakly
informative default prior distribution for logistic and other regression
models. <em>Annals of Applied Statistics</em>. 2(4), 1360--1383.</p>
<p># Can assign priors to names
N05 &lt;- normal(0, 5)</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>The various vignettes for the <span class="pkg">rstanarm</span> package also discuss 
  and demonstrate the use of some of the supported prior distributions.</p>
<p>#'</p></div>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#references">References</a></li>

      <li><a href="#see-also">See also</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Adam Peterson.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

